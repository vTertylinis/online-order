<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Καλάθι</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-list *ngIf="items.length; else empty">
    <ion-item *ngFor="let it of items; let i = index">
      <ion-label>
        <h3>{{ it.name }}</h3>
        <p *ngIf="it.size && (it.id === 3 || it.id === 4 || it.id === 5 || it.id === 6 || it.id === 13)">Μέγεθος: {{ it.size }}</p>
        <p *ngIf="it.sweetness">Γλυκύτητα: {{ it.sweetness }}</p>
        <p *ngIf="it.ingredients && it.ingredients.length">Extras: {{ ingredientsList(it) }}</p>
        <p *ngIf="it.comments">Σχόλια: {{ it.comments }}</p>
        <p>Ποσότητα: {{ it.quantity || 1 }}</p>
      </ion-label>
      <div slot="end" class="item-right">
        <div>{{ itemPrice(it) | currency:'EUR' }}</div>
        <ion-button color="danger" fill="clear" (click)="remove(i)">Αφαίρεση</ion-button>
      </div>
    </ion-item>
  </ion-list>

  <ng-template #empty>
    <p>Το καλάθι σας είναι άδειο.</p>
  </ng-template>

  <div class="cart-footer" *ngIf="items.length">
    <div class="total">Σύνολο: {{ total | currency:'EUR' }}</div>
    <div class="minimum-warning" *ngIf="!isMinimumMet">
      <ion-text color="warning">
        <p><ion-icon name="alert-circle-outline"></ion-icon> Ελάχιστο ποσό παραγγελίας: {{ MINIMUM_ORDER | currency:'EUR' }}</p>
        <p>Προσθέστε ακόμα {{ remainingForMinimum | currency:'EUR' }} για να ολοκληρώσετε την παραγγελία.</p>
      </ion-text>
    </div>
    <ion-button expand="block" routerLink="/address" [disabled]="!isMinimumMet">Ολοκλήρωση αγοράς</ion-button>
  </div>
</ion-content>

import{a as x,b as n1}from"./chunk-JLT4MNIU.js";import{a as l1}from"./chunk-CQTG75VL.js";import{B as D,C as I,D as P,Ea as i1,F as U,G as T,H as E,I as R,O as N,P as W,c as f,d as B,e as q,f as l,g as L,h as _,i as p,j as v,ja as $,k as c,ka as G,l as r,la as X,m as z,ma as Q,n as H,na as Y,o as V,oa as Z,p as C,pa as J,q as A,qa as K,r as w,sa as o1,t as F,ta as a1,u as h,ua as s1,v as d,ya as t1}from"./chunk-GW7IKXJW.js";import"./chunk-447CKG3T.js";import"./chunk-CDZFCBFW.js";import"./chunk-E2CLONXR.js";import"./chunk-KRDHHS7Z.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-LRFGNCHE.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as O,b}from"./chunk-JHI3MBHO.js";var y,v1=function(){if(typeof window>"u")return new Map;if(!y){var o=window;o.Ionicons=o.Ionicons||{},y=o.Ionicons.map=o.Ionicons.map||new Map}return y},S=function(o){Object.keys(o).forEach(function(s){c1(s,o[s]);var a=s.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();s!==a&&c1(a,o[s])})},c1=function(o,s){var a=v1(),t=a.get(o);t===void 0?a.set(o,s):t!==s&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(o,'". Ensure that multiple icons are not mapped to the same icon name.'))};var e1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='176' cy='416' r='32'/><circle cx='400' cy='416' r='32'/><path d='M456.8 120.78a23.92 23.92 0 00-18.56-8.78H133.89l-6.13-34.78A16 16 0 00112 64H48a16 16 0 000 32h50.58l45.66 258.78A16 16 0 00160 368h256a16 16 0 000-32H173.42l-5.64-32h241.66A24.07 24.07 0 00433 284.71l28.8-144a24 24 0 00-5-19.93z'/></svg>";function g1(o,s){if(o&1){let a=C();H(0),c(1,"ion-chip",13),A("click",function(){let i=f(a).index,e=w();return B(e.scrollToCategory(i))}),c(2,"ion-label"),h(3),r()(),V()}if(o&2){let a=s.$implicit,t=s.index,i=w();l(),F("selected",i.selectedCategoryIndex===t),l(2),d(a.name)}}function w1(o,s){if(o&1&&(c(0,"ion-thumbnail",18),z(1,"img",19),r()),o&2){let a=w().$implicit;l(),v("src",a.image,q)("alt",a.name)}}function h1(o,s){if(o&1&&(c(0,"p"),h(1),r()),o&2){let a=w().$implicit;l(),d(a.desc)}}function p1(o,s){if(o&1&&(c(0,"small"),h(1),I(2,"currency"),r()),o&2){let a=w().$implicit;l(),d(P(2,1,a.price,"EUR"))}}function d1(o,s){if(o&1){let a=C();c(0,"ion-item",13),A("click",function(){let i=f(a).$implicit,e=w(2);return B(e.openItem(i))}),p(1,w1,2,2,"ion-thumbnail",16),c(2,"ion-label")(3,"h2"),h(4),r(),p(5,h1,2,1,"p",17)(6,p1,3,4,"small",17),r()()}if(o&2){let a=s.$implicit;l(),v("ngIf",a.image),l(3),d(a.name),l(),v("ngIf",a.desc),l(),v("ngIf",a.price)}}function x1(o,s){if(o&1&&(H(0),c(1,"ion-card",14)(2,"ion-card-header")(3,"ion-card-title"),h(4),r()(),c(5,"ion-card-content")(6,"ion-list"),p(7,d1,7,4,"ion-item",15),r()()(),V()),o&2){let a=s.$implicit,t=s.index;l(),v("id",D("cat-",t)),l(3),d(a.name),l(3),v("ngForOf",a.items)}}function m1(o,s){if(o&1&&(c(0,"span",20),h(1),r()),o&2){let a=w();l(),d(a.cartCount)}}var q1=(()=>{let s=class s{get categories(){let t=new Map,i=n=>{if(!n)return null;if(x[n]&&x[n][this.lang])return x[n][this.lang];let g=n.toUpperCase();return x[g]&&x[g][this.lang]?x[g][this.lang]:null};for(let n of this.menuItems){let g=n.category||"UNCATEGORIZED";t.has(g)||t.set(g,[]);let m=b(O({},n),{desc:n.desc??n.description}),u=i(n.name)||i((n.name||"").toString().toUpperCase());u&&(m.name=u);let M=[n.description,n.description&&n.description.toString().toUpperCase(),(n.name||"")+"_DESC",(n.name||"").toUpperCase()+"_DESC",(n.name||"")+"Desc",(n.name||"")+"desc"],k=null;for(let r1 of M){let j=i(r1);if(j){k=j;break}}k&&(m.desc=k),t.get(g).push(m)}let e=[];for(let[n,g]of t){let m=i(n),u=m||n.toLowerCase().replace(/_/g," ").replace(/\w\S*/g,M=>M.charAt(0).toUpperCase()+M.substr(1));e.push({name:u,items:g})}return e}scrollToCategory(t){let i="cat-"+t,e=document.getElementById(i);e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),this.selectedCategoryIndex=t)}constructor(t,i){this.router=t,this.cartService=i,this.lang="gr",this.menuItems=n1,this.selectedCategoryIndex=0,S({cart:e1})}get cartCount(){try{return this.cartService.getItems().reduce((i,e)=>i+(e.quantity||1),0)}catch{return 0}}addToOrder(t){console.log("Add to order:",t)}openItem(t){let i=t?.id??null;i!=null?this.router.navigate(["/item",i],{state:{item:t}}):console.warn("Item has no id, cannot open detail view",t)}};s.\u0275fac=function(i){return new(i||s)(L(N),L(l1))},s.\u0275cmp=_({type:s,selectors:[["app-home"]],decls:16,vars:4,consts:[[3,"fullscreen"],[1,"store-header"],[1,"logo-container"],["src","https://21images.s3.eu-north-1.amazonaws.com/21_192x192.jpg","alt","Store Logo",1,"store-logo"],[1,"store-name"],[1,"chip-bar-wrapper"],[1,"chip-bar"],[4,"ngFor","ngForOf"],[1,"menu-list"],["slot","fixed","vertical","bottom","horizontal","end"],["routerLink","/cart","aria-label","Open cart"],["name","cart"],["class","cart-badge",4,"ngIf"],[3,"click"],[3,"id"],[3,"click",4,"ngFor","ngForOf"],["slot","start",4,"ngIf"],[4,"ngIf"],["slot","start"],["loading","lazy",3,"src","alt"],[1,"cart-badge"]],template:function(i,e){i&1&&(c(0,"ion-content",0)(1,"div",1)(2,"div",2),z(3,"img",3),c(4,"h1",4),h(5,"Online Order"),r()()(),c(6,"div",5)(7,"div",6),p(8,g1,4,3,"ng-container",7),r()(),c(9,"div",8)(10,"ion-list"),p(11,x1,8,4,"ng-container",7),r()()(),c(12,"ion-fab",9)(13,"ion-fab-button",10),z(14,"ion-icon",11),p(15,m1,2,1,"span",12),r()()),i&2&&(v("fullscreen",!0),l(8),v("ngForOf",e.categories),l(3),v("ngForOf",e.categories),l(4),v("ngIf",e.cartCount>0))},dependencies:[Z,$,X,Q,G,s1,o1,a1,t1,Y,J,K,i1,R,U,T,W,E],styles:["ion-fab-button[_ngcontent-%COMP%]{position:relative;overflow:visible}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background:#e53935;color:#fff;border-radius:10px;min-width:20px;height:20px;padding:0 6px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;box-shadow:0 0 0 2px var(--ion-background-color, #fff);z-index:10}[_nghost-%COMP%]{display:block}.store-header[_ngcontent-%COMP%]{position:fixed;left:0;right:0;top:var(--ion-safe-area-top, 0px);z-index:70;background:var(--ion-background-color);border-bottom:1px solid rgba(0,0,0,.08);box-shadow:0 2px 8px #0000000f}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:12px 16px}.store-logo[_ngcontent-%COMP%]{width:48px;height:48px;object-fit:contain;border-radius:8px}.store-name[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:var(--ion-color-primary);letter-spacing:-.5px}.menu-list[_ngcontent-%COMP%]{padding:16px}ion-card[_ngcontent-%COMP%]{margin-bottom:12px}ion-card-title[_ngcontent-%COMP%]{font-weight:600}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4px}ion-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.chip-bar-wrapper[_ngcontent-%COMP%]{position:fixed;left:0;right:0;top:calc(72px + var(--ion-safe-area-top, 0px));z-index:60;background:var(--ion-background-color);box-shadow:0 1px 4px #00000014}.chip-bar[_ngcontent-%COMP%]{display:flex;gap:8px;padding:8px 16px;overflow-x:auto;-webkit-overflow-scrolling:touch}.chip-bar[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{flex:0 0 auto}.chip-bar[_ngcontent-%COMP%]   ion-chip.selected[_ngcontent-%COMP%]{--background: var(--ion-color-primary);color:var(--ion-color-light)}.menu-list[_ngcontent-%COMP%]{padding-top:calc(128px + var(--ion-safe-area-top, 0px))}"]});let o=s;return o})();export{q1 as HomePage};

import{a as q}from"./chunk-HMVHPDMY.js";import{Aa as L,B as a,Ba as N,C as f,Ca as $,D as p,Ga as j,Ia as z,Ja as V,K as d,L as _,M as A,N as P,O as y,Oa as H,P as b,Q as S,W as O,X as R,c as I,d as v,h as i,j as g,k as h,m as B,n as l,na as T,o as r,p as o,pa as D,q as x,qa as w,t as M,u as E,v as c,wa as k,z as F,za as U}from"./chunk-XRPAQ25K.js";import"./chunk-447CKG3T.js";import"./chunk-CDZFCBFW.js";import"./chunk-E2CLONXR.js";import"./chunk-KRDHHS7Z.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-LRFGNCHE.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";function G(e,u){if(e&1&&(r(0,"p"),a(1),o()),e&2){let t=c().$implicit;i(),p("\u039C\u03AD\u03B3\u03B5\u03B8\u03BF\u03C2: ",t.size)}}function J(e,u){if(e&1&&(r(0,"p"),a(1),o()),e&2){let t=c().$implicit;i(),p("\u0393\u03BB\u03C5\u03BA\u03CD\u03C4\u03B7\u03C4\u03B1: ",t.sweetness)}}function K(e,u){if(e&1&&(r(0,"p"),a(1),o()),e&2){let t=c().$implicit,n=c(2);i(),p("Extras: ",n.ingredientsList(t))}}function Q(e,u){if(e&1&&(r(0,"p"),a(1),o()),e&2){let t=c().$implicit;i(),p("\u03A3\u03C7\u03CC\u03BB\u03B9\u03B1: ",t.comments)}}function W(e,u){if(e&1){let t=M();r(0,"ion-item")(1,"ion-label")(2,"h3"),a(3),o(),B(4,G,2,1,"p",7)(5,J,2,1,"p",7)(6,K,2,1,"p",7)(7,Q,2,1,"p",7),r(8,"p"),a(9),o()(),r(10,"div",8)(11,"div"),a(12),d(13,"currency"),o(),r(14,"ion-button",9),E("click",function(){let m=I(t).index,s=c(2);return v(s.remove(m))}),a(15,"\u0391\u03C6\u03B1\u03AF\u03C1\u03B5\u03C3\u03B7"),o()()()}if(e&2){let t=u.$implicit,n=c(2);i(3),f(t.name),i(),l("ngIf",t.size&&(t.id===3||t.id===4||t.id===5||t.id===6||t.id===13)),i(),l("ngIf",t.sweetness),i(),l("ngIf",t.ingredients&&t.ingredients.length),i(),l("ngIf",t.comments),i(2),p("\u03A0\u03BF\u03C3\u03CC\u03C4\u03B7\u03C4\u03B1: ",t.quantity||1),i(3),f(_(13,7,n.itemPrice(t),"EUR"))}}function X(e,u){if(e&1&&(r(0,"ion-list"),B(1,W,16,10,"ion-item",6),o()),e&2){let t=c();i(),l("ngForOf",t.items)}}function Y(e,u){e&1&&(r(0,"p"),a(1,"\u03A4\u03BF \u03BA\u03B1\u03BB\u03AC\u03B8\u03B9 \u03C3\u03B1\u03C2 \u03B5\u03AF\u03BD\u03B1\u03B9 \u03AC\u03B4\u03B5\u03B9\u03BF."),o())}function Z(e,u){if(e&1&&(r(0,"div",14)(1,"ion-text",15)(2,"p"),x(3,"ion-icon",16),a(4),d(5,"currency"),o(),r(6,"p"),a(7),d(8,"currency"),o()()()),e&2){let t=c(2);i(4),p(" \u0395\u03BB\u03AC\u03C7\u03B9\u03C3\u03C4\u03BF \u03C0\u03BF\u03C3\u03CC \u03C0\u03B1\u03C1\u03B1\u03B3\u03B3\u03B5\u03BB\u03AF\u03B1\u03C2: ",_(5,2,t.MINIMUM_ORDER,"EUR")),i(3),p("\u03A0\u03C1\u03BF\u03C3\u03B8\u03AD\u03C3\u03C4\u03B5 \u03B1\u03BA\u03CC\u03BC\u03B1 ",_(8,5,t.remainingForMinimum,"EUR")," \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03B7\u03BD \u03C0\u03B1\u03C1\u03B1\u03B3\u03B3\u03B5\u03BB\u03AF\u03B1.")}}function tt(e,u){if(e&1&&(r(0,"div",10)(1,"div",11),a(2),d(3,"currency"),o(),B(4,Z,9,8,"div",12),r(5,"ion-button",13),a(6,"\u039F\u03BB\u03BF\u03BA\u03BB\u03AE\u03C1\u03C9\u03C3\u03B7 \u03B1\u03B3\u03BF\u03C1\u03AC\u03C2"),o()()),e&2){let t=c();i(2),p("\u03A3\u03CD\u03BD\u03BF\u03BB\u03BF: ",_(3,3,t.total,"EUR")),i(2),l("ngIf",!t.isMinimumMet),i(),l("disabled",!t.isMinimumMet)}}var ct=(()=>{let u=class u{constructor(n,m){this.cart=n,this.router=m,this.items=[],this.MINIMUM_ORDER=6,this.refresh()}refresh(){this.items=this.cart.getItems()}remove(n){this.cart.remove(n),this.refresh()}clear(){this.cart.clear(),this.refresh()}get total(){return this.cart.getTotal()}get isMinimumMet(){return this.total>=this.MINIMUM_ORDER}get remainingForMinimum(){return Math.max(0,this.MINIMUM_ORDER-this.total)}checkout(){alert("Checkout not implemented in this demo.")}ingredientsList(n){return!n||!n.ingredients||!n.ingredients.length?"":n.ingredients.map(m=>m.name).join(", ")}itemPrice(n){if(!n)return 0;let m=(n.ingredients||[]).reduce((s,C)=>s+(C.price||0),0);return(n.basePrice||0)+m}};u.\u0275fac=function(m){return new(m||u)(g(q),g(O))},u.\u0275cmp=h({type:u,selectors:[["app-cart"]],decls:11,vars:3,consts:[["empty",""],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],[4,"ngIf","ngIfElse"],["class","cart-footer",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["slot","end",1,"item-right"],["color","danger","fill","clear",3,"click"],[1,"cart-footer"],[1,"total"],["class","minimum-warning",4,"ngIf"],["expand","block","routerLink","/address",3,"disabled"],[1,"minimum-warning"],["color","warning"],["name","alert-circle-outline"]],template:function(m,s){if(m&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),x(3,"ion-back-button",2),o(),r(4,"ion-title"),a(5,"\u039A\u03B1\u03BB\u03AC\u03B8\u03B9"),o()()(),r(6,"ion-content",3),B(7,X,2,1,"ion-list",4)(8,Y,2,0,"ng-template",null,0,A)(10,tt,7,6,"div",5),o()),m&2){let C=F(9);i(7),l("ngIf",s.items.length)("ngIfElse",C),i(3),l("ngIf",s.items.length)}},dependencies:[k,U,V,z,w,T,$,L,N,D,j,H,S,P,y,R,b],styles:[".cart-footer[_ngcontent-%COMP%]{margin-top:16px}.item-right[_ngcontent-%COMP%]{text-align:right;margin-top:5px}.total[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px}.minimum-warning[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffc107;border-radius:4px;padding:12px;margin-bottom:12px}.minimum-warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:.9em;color:#856404}.minimum-warning[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}"]});let e=u;return e})();export{ct as CartPage};

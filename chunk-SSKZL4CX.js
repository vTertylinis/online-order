import{a as I}from"./chunk-MACLXMYU.js";import"./chunk-GYGOVUIW.js";import{a as G}from"./chunk-HMVHPDMY.js";import{Aa as L,B as a,Ba as $,C as f,Ca as j,D as p,Ga as z,Ia as V,Ja as H,K as d,L as _,M as P,N as y,O as b,Oa as q,P as S,Q as D,W as O,X as R,c as v,d as h,h as n,j as g,k as M,m as B,n as l,na as T,o as r,p as o,pa as w,q as x,qa as k,t as E,u as A,v as c,wa as U,z as F,za as N}from"./chunk-XRPAQ25K.js";import"./chunk-447CKG3T.js";import"./chunk-CDZFCBFW.js";import"./chunk-E2CLONXR.js";import"./chunk-KRDHHS7Z.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-LRFGNCHE.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";function J(e,u){if(e&1&&(r(0,"p"),a(1),o()),e&2){let t=c().$implicit;n(),p("\u039C\u03AD\u03B3\u03B5\u03B8\u03BF\u03C2: ",t.size)}}function K(e,u){if(e&1&&(r(0,"p"),a(1),o()),e&2){let t=c().$implicit;n(),p("\u0393\u03BB\u03C5\u03BA\u03CD\u03C4\u03B7\u03C4\u03B1: ",t.sweetness)}}function Q(e,u){if(e&1&&(r(0,"p"),a(1),o()),e&2){let t=c().$implicit,i=c(2);n(),p("Extras: ",i.ingredientsList(t))}}function W(e,u){if(e&1&&(r(0,"p"),a(1),o()),e&2){let t=c().$implicit;n(),p("\u03A3\u03C7\u03CC\u03BB\u03B9\u03B1: ",t.comments)}}function X(e,u){if(e&1){let t=E();r(0,"ion-item")(1,"ion-label")(2,"h3"),a(3),o(),B(4,J,2,1,"p",7)(5,K,2,1,"p",7)(6,Q,2,1,"p",7)(7,W,2,1,"p",7),r(8,"p"),a(9),o()(),r(10,"div",8)(11,"div"),a(12),d(13,"currency"),o(),r(14,"ion-button",9),A("click",function(){let m=v(t).index,s=c(2);return h(s.remove(m))}),a(15,"\u0391\u03C6\u03B1\u03AF\u03C1\u03B5\u03C3\u03B7"),o()()()}if(e&2){let t=u.$implicit,i=c(2);n(3),f(i.getItemName(t.name)),n(),l("ngIf",t.size&&(t.id===3||t.id===4||t.id===5||t.id===6||t.id===13)),n(),l("ngIf",t.sweetness),n(),l("ngIf",t.ingredients&&t.ingredients.length),n(),l("ngIf",t.comments),n(2),p("\u03A0\u03BF\u03C3\u03CC\u03C4\u03B7\u03C4\u03B1: ",t.quantity||1),n(3),f(_(13,7,i.itemPrice(t),"EUR"))}}function Y(e,u){if(e&1&&(r(0,"ion-list"),B(1,X,16,10,"ion-item",6),o()),e&2){let t=c();n(),l("ngForOf",t.items)}}function Z(e,u){e&1&&(r(0,"p"),a(1,"\u03A4\u03BF \u03BA\u03B1\u03BB\u03AC\u03B8\u03B9 \u03C3\u03B1\u03C2 \u03B5\u03AF\u03BD\u03B1\u03B9 \u03AC\u03B4\u03B5\u03B9\u03BF."),o())}function tt(e,u){if(e&1&&(r(0,"div",14)(1,"ion-text",15)(2,"p"),x(3,"ion-icon",16),a(4),d(5,"currency"),o(),r(6,"p"),a(7),d(8,"currency"),o()()()),e&2){let t=c(2);n(4),p(" \u0395\u03BB\u03AC\u03C7\u03B9\u03C3\u03C4\u03BF \u03C0\u03BF\u03C3\u03CC \u03C0\u03B1\u03C1\u03B1\u03B3\u03B3\u03B5\u03BB\u03AF\u03B1\u03C2: ",_(5,2,t.MINIMUM_ORDER,"EUR")),n(3),p("\u03A0\u03C1\u03BF\u03C3\u03B8\u03AD\u03C3\u03C4\u03B5 \u03B1\u03BA\u03CC\u03BC\u03B1 ",_(8,5,t.remainingForMinimum,"EUR")," \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03B7\u03BD \u03C0\u03B1\u03C1\u03B1\u03B3\u03B3\u03B5\u03BB\u03AF\u03B1.")}}function et(e,u){if(e&1&&(r(0,"div",10)(1,"div",11),a(2),d(3,"currency"),o(),B(4,tt,9,8,"div",12),r(5,"ion-button",13),a(6,"\u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u0394\u03B9\u03B5\u03CD\u03B8\u03C5\u03BD\u03C3\u03B7\u03C2"),o()()),e&2){let t=c();n(2),p("\u03A3\u03CD\u03BD\u03BF\u03BB\u03BF: ",_(3,3,t.total,"EUR")),n(2),l("ngIf",!t.isMinimumMet),n(),l("disabled",!t.isMinimumMet)}}var pt=(()=>{let u=class u{constructor(i,m){this.cart=i,this.router=m,this.items=[],this.MINIMUM_ORDER=6,this.refresh()}refresh(){this.items=this.cart.getItems()}remove(i){this.cart.remove(i),this.refresh()}clear(){this.cart.clear(),this.refresh()}get total(){return this.cart.getTotal()}get isMinimumMet(){return this.total>=this.MINIMUM_ORDER}get remainingForMinimum(){return Math.max(0,this.MINIMUM_ORDER-this.total)}checkout(){alert("Checkout not implemented in this demo.")}getItemName(i){return I(i)||I(i.toUpperCase())||i}ingredientsList(i){return!i||!i.ingredients||!i.ingredients.length?"":i.ingredients.map(m=>m.name).join(", ")}itemPrice(i){if(!i)return 0;let m=(i.ingredients||[]).reduce((s,C)=>s+(C.price||0),0);return(i.basePrice||0)+m}};u.\u0275fac=function(m){return new(m||u)(g(G),g(O))},u.\u0275cmp=M({type:u,selectors:[["app-cart"]],decls:11,vars:3,consts:[["empty",""],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],[4,"ngIf","ngIfElse"],["class","cart-footer",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["slot","end",1,"item-right"],["color","danger","fill","clear",3,"click"],[1,"cart-footer"],[1,"total"],["class","minimum-warning",4,"ngIf"],["expand","block","routerLink","/address",3,"disabled"],[1,"minimum-warning"],["color","warning"],["name","alert-circle-outline"]],template:function(m,s){if(m&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),x(3,"ion-back-button",2),o(),r(4,"ion-title"),a(5,"\u039A\u03B1\u03BB\u03AC\u03B8\u03B9"),o()()(),r(6,"ion-content",3),B(7,Y,2,1,"ion-list",4)(8,Z,2,0,"ng-template",null,0,P)(10,et,7,6,"div",5),o()),m&2){let C=F(9);n(7),l("ngIf",s.items.length)("ngIfElse",C),n(3),l("ngIf",s.items.length)}},dependencies:[U,N,H,V,k,T,j,L,$,w,z,q,D,y,b,R,S],styles:[".cart-footer[_ngcontent-%COMP%]{margin-top:16px}.item-right[_ngcontent-%COMP%]{text-align:right;margin-top:5px}.total[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px}.minimum-warning[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffc107;border-radius:4px;padding:12px;margin-bottom:12px}.minimum-warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:.9em;color:#856404}.minimum-warning[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}"]});let e=u;return e})();export{pt as CartPage};
